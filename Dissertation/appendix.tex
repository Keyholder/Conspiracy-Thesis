\chapter{Краткий обзор литературы, посвящённой коррелированному расширению игр в нормальной форме}\label{app:A}

Концепция коррелированного расширения стала важным общеупотребимым инструментом во многих областях теории игр, и в частности на неё опирается знаменитый дизайн механизмов. В связи с этим нельзя не упомянуть статью Роджера Майерсона <<Optimal coordination mechanisms in generalized principal"~agent problems>> \cite{Myerson82}. В ней формулируется обобщённая задача принципал"~агентов, в которой агенты обладают как тайной информацией, так и возможностью принимать решения, неподконтрольные принципалу. Показывается, что принципал может ограничиваться целенаправленно побуждающими прямыми механизмами координации, в которых агенты докладывают свою информацию принципалу, рекомендующему в ответ стратегии, образующие коррелированное равновесие. В конечном случае оптимальные механизмы координации могут быть найдены при помощи линейного программирования. Кроме того обсуждается проблематика систем с многими принципалами, в которых может не существовать некооперативного равновесия, так что вводится определение и показывается существование квази"~равновесия.

Коррелированное расширение нашло своё место и применительно к исследованию игр в развёрнутой форме. Ещё одна статья Роджера Майерсона <<Multistage Games with Communication>> \cite{Myerson86} рассматривает многостадийные игры с коммуникационным механизмом, функционирующим по принципу централизованного посредника. В коммуникационном равновесии ни один игрок не должен иметь возможность в одиночку увеличить свой выигрыш, манипулируя своими отчётами или действиями. Последовательное коммуникационное равновесие "--- это коммуникационное равновесие с системой условных вероятностей при которой ни один игрок не может получить выгоду от подобных манипуляций, даже если случаются события нулевой вероятности. Кодоминируемые действия определяются таким образом, что любое коммуникационное равновесие последовательно в том и только том случае, когда никто не использует кодоминируемых действий. Преобладающее коммуникационное равновесие определяется как результат последовательного исключения кодоминируемых действий, и показывается его существование.

Ещё одной важной вехой стала статья <<Correlated equilibrium as an expression of Bayesian rationality>> \cite{Aumann87}, в которой Ауман показал, что формализм коррелированного равновесия снимает противоречие между <<байесовским>> и <<теоретико"~игровым>> взглядом на мир. С байесовской позиции вероятности могут быть сопоставлены с чем угодно, даже с возможностью для игрока выбрать какую"~либо стратегию в некоторой игре. С точки зрения самой теории игр, напротив, традиционно считается, что нельзя говорить о вероятностях событий, происходящих по воле рациональных агентов, нужно вместо этого использовать понятие равновесности (или другие теоретико-игровые конструкты). Предложенный формализм же объединяет две эти точки зрения "--- на коррелированное равновесие можно смотреть как на следствие байесовской рациональности, поскольку условие равновесности представляет собой простую максимизацию выгоды каждым из игроков с учётом известной им информации. При таком подходе не требуется явной рандомизации в действиях игроков. Даже если игрок выбирает конкретную чистую стратегию без элемента случайности, вероятностная природа стратегий отражает неуверенность остальных игроков в его выборе, что и показывается на примерах.

Вопросы совместимости коррелированных равновесий с более строгими принципами оптимальности поднимались в статье Амриты Дхиллона и Жана Франсуа Мертенса <<Perfect Correlated Equilibria>> \cite{Dhillon}. В ней вводится понятие $(\epsilon)$"~совершенных кореллированных равновесий (PCE), обусловленных $(\epsilon)$"~совершенным равновесием некоторого корреляционного устройства. Показывается, что <<принцип выявления>> для этой концепции теряет силу "--- прямой механизм может и не обеспечивать совершенного равновесия. Так называемые приблизительно совершенные коррелированные равновесия (APCE) оказываются пределами $\epsilon$"~PCE, и авторы достигают для них полной характеризации. В ходе рассуждений о <<приемлемости>> APCE в некотором смысле, приводятся однако иллюстрированные доводы в пользу того, что среди них именно PCE представляются <<хорошими>>.

Динамический аспект формализма коррелированного расширения тоже не оставался без внимания исследователей. Предлагалось немало процедур разыгрывания для итеративных игр, обеспечивающих сходимость к коррелированным равновесиям. Среди множества работ на эту тему выделяется статья Серджиу Харта и Андреу Мас"~Колелла <<A simple adaptive procedure leading to correlated equilibrium>> \cite{Hart}, в которой авторы предложили так называемую процедуру сопоставления потерь. Применяя её, игроки каждый раз отклоняются от своих текущих стратегий пропорционально мере понесённого ими на предыдущих ходах ущерба от не использования иных стратегий. Показывается, что такая адаптивная процедура гарантирует в любой игре сходимость с вероятностью $1$ эмпирического распределения розыгрышей к множеству коррелированных равновесий.

\chapter{Доказательство теоремы об изоморфизме пространств корреляции}\label{app:B}

Прежде чем перейти к доказательству основного утверждения потребуется ввести дополнительный инструментарий:

\begin{definition}
	Измельчением множества исходов $X = X^1 \times \ldots \times X^m$ до конечного множества исходов $Y = Y^1 \times \ldots \times Y^m$ называется любое отображение $\rho = (\rho^1, \ldots, \rho^m)$, где каждая компонента $\rho^a$ отображает $Y^a$ в $X^a$.
\end{definition}

При помощи измельчений можно задавать связи между разбиениями с различными кодоменами. Если разбиения $f : \Omega \rightarrow X$ и $g : \Omega \rightarrow Y$ таковы, что $f = \rho \circ g$, то $f^{-1}(x) = \bigcup_{y \in \rho^{-1}(x)} g^{-1}(y), \forall x \in X$. При этом $f$ можно называть измельчимым до $g$.

Разбиения одного и того же пространства можно комбинировать. Например, из разбиений $g_i : \Omega \rightarrow Y_i = Y_i^1 \times \ldots \times Y_i^m, i=\overline{1,n}$ можно построить их комбинацию $g_1 \diamond \ldots \diamond g_n : \Omega \rightarrow Y_{(n)}$, где $Y_{(n)}^a = Y_1^a \times \ldots \times Y_n^a$ и $(g_1 \diamond \ldots \diamond g_n)^a(\omega) = (g_1^a(\omega), \ldots, g_n^a(\omega)), \forall \omega \in \Omega, a =\overline{1,m}$. Эта комбинация разбиений связана со своими компонентами измельчениями"~проекциями: $g_i  = \pi_i \circ (g_1 \diamond \ldots \diamond g_n), \pi_i^a(x_1^a, \ldots, x_n^a) = x_i^a$.

Аналогично комбинируются и измельчения с общим кодоменом. Например, из измельчений $\rho_i : Y_i \rightarrow X, i=\overline{1,n}$ можно построить комбинацию $\rho_1 \wr \ldots \wr \rho_n : Y_{[n]} \rightarrow X$, где $Y_{[n]}^a = \{(y_1^a, \ldots, y_n^a) \in Y_{(n)}^a \mid \rho_1^a(y_1^a) = \ldots = \rho_n^a(y_n^a)\}, a =\overline{1,m}$, причём на своей области определения $\rho_1 \wr \ldots \wr \rho_n$ совпадает со всеми $\rho_i \circ \pi_i$. Заметим, что
\begin{equation*}
	f = \rho_i \circ g_i, i=\overline{1,n} \;\Leftrightarrow\; f = (\rho_1 \wr \ldots \wr \rho_n) \circ (g_1 \diamond \ldots \diamond g_n).
\end{equation*}

\begin{definition}
	В пространстве корреляции $\Phi = \langle A, \Omega, \mathfrak{I}^a, \mathbb{P}, a \in A \rangle$ структурой разбиения $f : \Omega \rightarrow X$, порождённой измельчением $\rho : Y \rightarrow X$, называется множество $H_{\Phi,\rho}(f) = \{\mathbb{P} \circ g^{-1} \mid g \models \Phi, f = \rho \circ g\}$, состоящее из мер $\mu : Y \rightarrow \mathbb{R}_{\ge 0}$. Также обозначим $H_{\Phi,\rho}^{-1}(\mu) = \{f \models \Phi \mid \mu \in H_{\Phi,\rho}(f)\}$.
\end{definition}

\begin{lemma} \label{lemma:tyhon}
	Для всех $\rho : Y \rightarrow X$ и $\mu : Y \rightarrow \mathbb{R}_{\ge 0}$ множество $H_{\Phi,\rho}^{-1}(\mu) \subseteq X^{\Omega}$ компактно в полуметрике
	\begin{equation*}
		\operatorname{dis}(f_1, f_2) = \frac{1}{2} \sum_{x \in X} \left| \mathbb{P}(f_1^{-1}(x)) - \mathbb{P}(f_2^{-1}(x)) \right|.
	\end{equation*}
\end{lemma}

\begin{proof}
	Переформулируем $H_{\Phi,\rho}^{-1}(\mu) = \rho \circ H_{\Phi}^{-1}(\mu)$, определив для этого отображение $H_{\Phi}^{-1}(\mu) = \{g \models \Phi \mid \mathbb{P} \circ g^{-1} = \mu\}$. Докажем сперва компактность $H_{\Phi}^{-1}(\mu)$, вводя $\operatorname{dis}(g_1, g_2)$ аналогично $\operatorname{dis}(f_1, f_2)$. Полуметрика $\operatorname{dis}$ вполне ограниченна, так как $\operatorname{dis}(g_1, g_2) = d(\mu^Y_1, \mu^Y_2)$, где $\mu^Y_k = \mathbb{P} \circ g_k^{-1}, k=1,2$, а пространство вероятностных мер на любом конечном множестве вполне ограниченно. Замкнутость $H_{\Phi}^{-1}(\mu)$ очевидно следует из $\operatorname{dis}(g_1, g_2) = 0 \Leftrightarrow \mathbb{P} \circ g_1^{-1} = \mathbb{P} \circ g_2^{-1}$. Таким образом $H_{\Phi}^{-1}(\mu)$ компактно в полуметрике $\operatorname{dis}$. Докажем непрерывность отображения $\rho\ \circ : Y^\Omega \rightarrow X^\Omega$, выразив ту же полуметрику по-другому:
	\begin{equation*}
		\operatorname{dis}(f_1, f_2) = 1 - \sum_{x \in X} \min \left[\mathbb{P}(f_1^{-1}(x)), \mathbb{P}(f_2^{-1}(x))\right].
	\end{equation*}
	
	Пусть теперь $f_1 = \rho \circ g_1$ и $f_2 = \rho \circ g_2$:
	\begin{align*}
		\operatorname{dis}(\rho \circ g_1, \rho \circ g_2) &= 1 - \sum_{x \in X} \min \left[\mathbb{P}(g_1^{-1}(\rho^{-1}(x))), \mathbb{P}(g_2^{-1}(\rho^{-1}(x)))\right] \\
		&= 1 - \sum_{x \in X} \min \left[\sum_{y \in \rho^{-1}(x)} \mathbb{P}(g_1^{-1}(y)), \sum_{y \in \rho^{-1}(x)} \mathbb{P}(g_2^{-1}(y))\right] \\
		&\le 1 - \sum_{x \in X} \sum_{y \in \rho^{-1}(x)} \min \left[\mathbb{P}(g_1^{-1}(y)), \mathbb{P}(g_2^{-1}(y))\right] \\
		&= 1 - \sum_{y \in Y} \min \left[\mathbb{P}(g_1^{-1}(y)), \mathbb{P}(g_2^{-1}(y))\right] = \operatorname{dis}(g_1, g_2).
	\end{align*}
	
	Отображение $\rho\ \circ$ непрерывно, поскольку $\operatorname{dis}(\rho \circ g_1, \rho \circ g_2) \le \operatorname{dis}(g_1, g_2)$. Так как непрерывные отображения сохраняют компактность\cite[с.~199]{Engelking}, $H_{\Phi,\rho}^{-1}(\mu) = \rho \circ H_{\Phi}^{-1}(\mu)$ компактно в полуметрике $\operatorname{dis}$.
\end{proof}

\begin{definition}
	Разбиение $f_2 \models \Phi_2$ называется точным образом разбиения $f_1 \models \Phi_1$ (далее $f_1 \precsim f_2$), если их кодомены совпадают ($X_1 = X_2 = X$) и $H_{\Phi_1,\rho}(f_1) \subseteq H_{\Phi_2,\rho}(f_2)$ для всех измельчений $\rho$ с тем же кодоменом. Множество всех точных образов далее будем обозначать $\widehat{\Phi}_2(f_1) = \{f_2 \models \Phi_2 \mid f_1 \precsim f_2\}$.
\end{definition}

Отношение $f_1 \precsim f_2$ можно понять так "--- на какие бы измеримые части мы не делили компоненты разбиения $f_1$, в разбиении $f_2$ соответствующие компоненты всегда можно разделить на равные им по мере части.

\begin{note}
	Очевидно, что $f_1 \precsim f_2 \wedge f_2 \precsim f_3 \Rightarrow f_1 \precsim f_3$.
\end{note}

\begin{lemma} \label{lemma:up}
	Пусть в пространствах корреляции $\Phi_1$ и $\Phi_2$ разбиения $g_1 : \Omega_1 \rightarrow Y$ и $g_2 : \Omega_2 \rightarrow Y$ таковы, что $g_1 \precsim g_2$. Тогда $\rho \circ g_1 \precsim \rho \circ g_2$ для всех измельчений $\rho : Y \rightarrow X$.
\end{lemma}

\begin{proof}
	Возьмём любые $\rho_* : Y_* \rightarrow X$ и $\mu \in H_{\Phi_1,\rho_*}(\rho \circ g_1)$. По определению структуры разбиения, $\exists g_{1*}: \rho_* \circ g_{1*} = \rho \circ g_1, \mathbb{P}_1 \circ g_{1*}^{-1} = \mu$, а доказать требуется, по определению точного образа, что $\exists g_{2*}: \rho_* \circ g_{2*} = \rho \circ g_2, \mathbb{P}_2 \circ g_{2*}^{-1} = \mu$. Рассмотрим комбинацию $g_{1+} = g_1 \diamond g_{1*}$, где $g_1 = \pi \circ g_{1+}$ и $g_{1*} = \pi_* \circ g_{1+}$. Здесь $g_{1+} : \Omega_1 \rightarrow Y_+, Y_+^a = Y^a \times Y_*^a, a=\overline{1,m}$. По определению структуры разбиения, $\mathbb{P}_1 \circ g_{1+}^{-1} \in H_{\Phi_1,\pi}(g_1)$, а значит, поскольку $g_1 \precsim g_2$, существует $g_{2+} : \Omega_2 \rightarrow Y_+$ такое, что $\mathbb{P}_1 \circ g_{1+}^{-1} = \mathbb{P}_2 \circ g_{2+}^{-1} \in H_{\Phi_2,\pi}(g_2)$, т.е. $\pi \circ g_{2+} = g_2$. Из этого с очевидностью следует, что и $\mathbb{P}_2 \circ (\pi_* \circ g_{2+})^{-1} = \mathbb{P}_1 \circ (\pi_* \circ g_{1+})^{-1}$, а значит $g_{2*} = \pi_* \circ g_{2+}$ искомое.
\end{proof}

\begin{lemma} \label{lemma:down}
	Пусть в пространствах корреляции $\Phi_1$ и $\Phi_2$ разбиения $f_1 : \Omega_1 \rightarrow X$ и $f_2 : \Omega_2 \rightarrow X$ таковы, что $f_1 \precsim f_2$. Тогда для каждого измельчения $\rho : Y \rightarrow X$ и каждого разбиения $g_1 : \Omega_1 \rightarrow Y$ такого, что $f_1 = \rho \circ g_1$ существует разбиение $g_2 : \Omega_2 \rightarrow Y$ такое, что $f_2 = \rho \circ g_2$ и $g_1 \precsim g_2$.
\end{lemma}

\begin{proof}
	Сформулируем требуемое как $\exists g_2 \in \widehat{\Phi}_2(g_1) : f_2 = \rho \circ g_2$ и выразим $\widehat{\Phi}_2$ через структуры разбиений:
	\begin{equation*}% \label{eq:goal1}
		\widehat{\Phi}_2(g_1) = \bigcap_{\forall Z, \xi : Z \rightarrow Y, \mu \in H_{\Phi_1,\xi}(g_1)} H_{\Phi_2,\xi}^{-1}(\mu).
	\end{equation*}
	
	По лемме \ref{lemma:tyhon} множество $\widehat{\Phi}_2(g_1)$ является пересечением семейства компактов. Следовательно, для доказательства содержания в нём элемента $g_2 : f_2 = \rho \circ g_2$, достаточно доказать, что такой элемент содержится в пересечении каждого конечного подсемейства тех же компактов:
	\begin{equation*}% \label{eq:goal1}
		\exists g_{2*} \in \bigcap_{i=1}^n H_{\Phi_2,\xi_i}^{-1}(\mu_i) : f_2 = \rho \circ g_{2*},
	\end{equation*}
	где $\xi_i : Z_i \rightarrow Y$ "--- произвольные измельчения с произвольными доменами $Z_i$ и $\mu_i \in H_{\Phi_1,\xi_i}(g_1)$ также выбраны произвольно.
	
	По определению структуры разбиения $\exists h_{1,i} \models \Phi_1 : g_1 = \xi_i \circ h_{1,i}, \mathbb{P} \circ h_{1,i}^{-1} = \mu_i$. Построим их комбинацию $h_1 = h_{1,1} \diamond ... \diamond h_{1,n}$, где $h_{1,i} = \pi_i \circ h_1$, и обозначим $\xi = \xi_1 \wr ... \wr \xi_n$. По определению точного отображения $\exists h_2 \models \Phi_2 : f_2 = \rho \circ \xi \circ h_2, \mathbb{P}_1 \circ h_1^{-1} = \mathbb{P}_2 \circ h_2^{-1}$, а значит можно взять $g_{2*} = \xi \circ h_2$. По построению $f_2 = \rho \circ g_{2*}$ и $\mathbb{P}_1 \circ h_{1,i}^{-1} = \mathbb{P}_1 \circ (\pi_i \circ h_1)^{-1} = \mathbb{P}_2 \circ (\pi_i \circ h_2)^{-1} = \mathbb{P}_2 \circ h_{2,i}^{-1}$, следовательно $g_{2*}$ "--- искомое.
\end{proof}

\begin{corollary} \label{cor:down}
	Если пространства корреляции $\Phi_1 \precsim \Phi_2$, то для каждого разбиения $f_1 \models \Phi_1$ существует $f_2 \models \Phi_2$ такое, что $f_1 \precsim f_2$.
\end{corollary}

\begin{corollary}
	Леммы \ref{lemma:up}, \ref{lemma:down} и следствие \ref{cor:down} также верны для строгого отношения $f_1 \prec f_2 \equiv f_1 \precsim f_2 \cap \neg (f_1 \succsim f_2)$.
\end{corollary}

\begin{lemma}
	$f_1 \precsim f_2 \Leftrightarrow f_1 \succsim f_2$ для любых разбиений одного и того же пространства корреляции.
\end{lemma}

\begin{proof}
	Предположим обратное "--- существование $f_1 \prec f_2$ с кодоменом $X$. Тривиальное измельчение $\theta(x) = (0, \ldots, 0), \forall x \in X$ очевидно даёт $\theta \circ f_1 = \theta \circ f_2$. Это противоречит $\theta \circ f_1 \prec \theta \circ f_2$, следующему из леммы \ref{lemma:up}.
\end{proof}

\begin{corollary} \label{cor:sym}
	$f_1 \precsim f_2 \Leftrightarrow f_1 \succsim f_2$ для любых разбиений изоморфных пространств корреляции.
\end{corollary}

\begin{proof}[Доказательство теоремы об изоморфных пространствах]
	Рассмотрим в игре $\Gamma | \Phi_1$ произвольный профиль стратегий $\mathbf{s}_1$. Этот профиль, очевидно, является разбиением пространства корреляции $\Phi_1$. По следствию \ref{cor:down} существует разбиение $\mathbf{s}_2$ пространства корреляции $\Phi_2$ такое, что $\mathbf{s}_1 \precsim \mathbf{s}_2$, причём, аналогично, $\mathbf{s}_2$ является ещё и профилем стратегий в игре $\Gamma | \Phi_2$. Докажем вложения в обоих направлениях: 1. $U_{\Gamma | \Phi_1}^{A_*}(\mathbf{s}_1) \subseteq U_{\Gamma | \Phi_2}^{A_*}(\mathbf{s}_2)$ и 2. $U_{\Gamma | \Phi_1}^{A_*}(\mathbf{s}_1) \supseteq U_{\Gamma | \Phi_2}^{A_*}(\mathbf{s}_2)$ для любой группы игроков $A_*$:
	\begin{enumerate}
		\item Рассмотрим произвольный профиль $\mathbf{s}_{1*} \models \Phi_1$, отличающийся от $\mathbf{s}_1$ стратегиями группы $A_*$. Обозначим $\mathbf{s}_{1+} = \mathbf{s}_1 \diamond \mathbf{s}_{1*}$, где $\mathbf{s}_1 = \pi \circ \mathbf{s}_{1+}$ и $\mathbf{s}_{1*} = \pi_* \circ \mathbf{s}_{1+}$. По определению точного образа $H_{\Phi_1,\pi}(\mathbf{s}_1) \subseteq H_{\Phi_2,\pi}(\mathbf{s}_2)$, т.е. $\exists \mathbf{s}_{2+} \models \Phi_2 : \mathbb{P}_1 \circ \mathbf{s}_{1+} = \mathbb{P}_2 \circ \mathbf{s}_{2+}, \mathbf{s}_2 = \pi \circ \mathbf{s}_{2+}$. По построению $\mathbf{s}_{2*} = \pi_* \circ \mathbf{s}_{2+}$ отличается от $\mathbf{s}_2$ ходами тех же игроков, что отличают $\mathbf{s}_{1*}$ от $\mathbf{s}_1$, и $\mathbb{P}_1 \circ \mathbf{s}_{1*}^{-1} = \mathbb{P}_2 \circ \mathbf{s}_{2*}^{-1}$, а значит аналогичным образом $u^a(\mathbf{s}_{1*}) = u^a(\mathbf{s}_{2*})$. В силу произвольности выбора $\mathbf{s}_{1*}$ это влечёт $U_{\Gamma | \Phi_1}^{A_*}(\mathbf{s}_1) \subseteq U_{\Gamma | \Phi_2}^{A_*}(\mathbf{s}_2)$.
		\item Так как $\mathbf{s}_1 \succsim \mathbf{s}_2$ по следствию \ref{cor:sym}, рассуждения предыдущего пункта применимы и в обратном направлении.
	\end{enumerate}
\end{proof}

\chapter{Доказательство теоремы о пространствах заговоров одной структуры}\label{app:C}

Для доказательства теоремы об изоморфизме пространств заговоров так же понадобится несколько лемм.

\begin{lemma}\label{lemma:card}
	Для любого счётного семейства множеств $\mathfrak{F}$ найдётся цепь множеств $\mathfrak{T}$ такая, что $\sigma(\mathfrak{F}) = \sigma(\mathfrak{T})$.
\end{lemma}

\begin{proof}
	Пусть $\mathfrak{F} = \{F_1, F_2, \ldots\}$. Построим индуктивно последовательность цепей $(\mathfrak{T}_i)$, где каждая следующая цепь включает в себя предыдущую и $\sigma(\mathfrak{T}_i) = \sigma(\{F_1, \ldots, F_i\})$. В качестве базы возьмём $\mathfrak{T}_1 = \{F_1\}$. Шаг индукции: пусть $\mathfrak{T}_{i-1} = \{T_1, \ldots, T_n\}, T_1 \subset \ldots \subset T_n$ и $\sigma(\mathfrak{T}_{i-1}) = \sigma(\{F_1, \ldots, F_{i-1}\})$. Разложим следующий элемент $\mathfrak{F}$ на непересекающиеся дизъюнкты: $F_i = (F_i \cap T_1) \cup (F_i \cap T_2 \setminus T_1) \cup \ldots \cup (F_i \cap T_n \setminus T_{n-1}) \cup (F_i \setminus T_n)$. В этой записи $j$"~й дизъюнкт вложен в соответствующую разность $T_j \setminus T_{j-1}$ соседних элементов цепи. Следовательно, для его порождения достаточно пополнить $\mathfrak{T}_{i-1}$ множеством $T_{j-} = F_i \cap T_j \cup T_{j-1}$, сохраняющим структуру цепи, поскольку $T_{j-1} \subseteq T_{j-} \subseteq T_j$. Таким образом, чтобы получить $F_i$ целиком,
	\begin{equation*}
		\mathfrak{T}_i = \mathfrak{T}_{i-1} \cup \left\{
		\begin{aligned}
			&F_i \cap T_1,\\
			&F_i \cap T_2 \cup T_1,\\
			&\cdots\\
			&F_i \cap T_n \cup T_{n-1},\\
			&F_i \cup T_n
		\end{aligned}
		\right\}
	\end{equation*}
	
	Покажем, что предел последовательности $(\mathfrak{T}_i)$ "--- искомая цепь. В самом деле, любой элемент из $\sigma(\mathfrak{F})$ "--- это счётное объединение конечных пересечений множеств $F_i$. Поэтому
	\begin{equation*}
		\sigma(\mathfrak{F}) = \bigcup_{i=1}^{\infty} \sigma(\{F_1, \ldots, F_i\}) = \bigcup_{i=1}^{\infty} \sigma(\mathfrak{T}_i) = \sigma(\mathfrak{T}).
	\end{equation*}
\end{proof}

\begin{lemma} \label{lemma:max}
	Максимальная цепь измеримых множеств в безатомическом пространстве порождает безатомическую $\sigma$"~алгебру.
\end{lemma}

\begin{proof}
	Пусть максимальная цепь $\mathfrak{T}$ измеримых множеств безатомического пространства $\langle \Omega, \mathfrak{B}, \mathbb{P} \rangle$ порождает алгебру $\sigma(\mathfrak{T})$. Докажем, что для любого $B \in \sigma(\mathfrak{T})$ меры $\mathbb{P}(B) > 0$ найдётся $B' \in \sigma(\mathfrak{T})$ такое, что $B' \subset B$ и $\mathbb{P}(B) > \mathbb{P}(B') > 0$. Для этого, очевидно, достаточно доказать, что в цепи $\mathfrak{T}$ найдётся множество $T$ такое, что $0 < \mathbb{P}(T \cap B) < \mathbb{P}(B)$. Рассмотрим множества
	\begin{equation*}
		\underline{T} = \bigcup_{T_- \in \mathfrak{T} : \mathbb{P}(T_- \cap B) = 0} T_- \quad\text{и}\quad \overline{T} = \bigcap_{T_+ \in \mathfrak{T} : \mathbb{P}(T_+ \cap B) = \mathbb{P}(B)} T_+,
	\end{equation*}
	по построению вложенные $\underline{T} \subset \overline{T}$ так, что $\mathbb{P}(\overline{T}) - \mathbb{P}(\underline{T}) \ge \mathbb{P}(B)$. Поскольку цепь $\mathfrak{T}$ максимальна в безатомическом пространстве, существует $T_0 \in \mathfrak{T}$ такое, что $\underline{T} \subset T_0 \subset \overline{T}$. Так как $\underline{T} \subset T_0 \Rightarrow \mathbb{P}(T_0 \cap B) > 0$ и $T_0 \subset \overline{T} \Rightarrow \mathbb{P}(T_0 \cap B) < \mathbb{P}(B)$, значит $T_0$ искомое.
\end{proof}

\begin{definition}
	Для любых семейств измеримых множеств $\mathfrak{T} \subseteq 2^\Omega$ и мер $\mathbb{P} : \mathfrak{T} \rightarrow \mathbb{R}_{\ge 0}$ определим отображение $\operatorname{mim}\langle\mathfrak{T}, \mathbb{P}\rangle : \Omega \rightarrow \mathbb{R}_{\ge 0}$, называемое наименьшей мерой включения и вычисляемое по формуле $\operatorname{mim}\langle\mathfrak{T}, \mathbb{P}\rangle(\omega) = \inf\{\mathbb{P}(T) \mid \omega \in T \in \mathfrak{T}\}$.
\end{definition}

\begin{lemma}
	Если $\mathfrak{T} \subset 2^\Omega$ "--- цепь множеств, порождающая безатомическую $\sigma$"~алгебру, то $\mathbb{P} \circ \operatorname{mim}\langle\mathfrak{T}, \mathbb{P}\rangle^{-1}$ совпадает с мерой Лебега на отрезке $[0, \mathbb{P}(\Omega)]$.
\end{lemma}

\begin{proof}
	Поскольку $\mathfrak{T}$ "--- цепь, $\omega \in T \Leftrightarrow \operatorname{mim}\langle\mathfrak{T}, \mathbb{P}\rangle(\omega) \le \mathbb{P}(T), \forall \omega \in \Omega, T \in \mathfrak{T}$. Так как $\mathfrak{T}$ вдобавок порождает безатомическую $\sigma$"~алгебру, то для каждого $0 < t < \mathbb{P}(\Omega)$ найдётся $T \in \mathfrak{T}$ такое, что $\mathbb{P}(T) = t$. Следовательно, функция $\operatorname{mim}\langle\mathfrak{T}, \mathbb{P}\rangle$ отображает множества $T \in \mathfrak{T}$ на отрезки $[0, \mathbb{P}(T)]$, что очевидно влечёт цель доказательства.
\end{proof}

\begin{lemma} \label{lemma:consp}
	Пусть $\langle \Omega, \mathfrak{B}, \mathbb{P} \rangle$ "--- любое безатомическое вероятностное пространство с $\sigma$"~алгеброй, разложимой на $n$ безатомических компонент $\mathfrak{B} = \sigma(\mathfrak{B}_1 \cup \ldots \cup \mathfrak{B}_n)$ таких, что все события из разных компонент совместно независимы, т.е. $\mathbb{P}(B_1 \cap \ldots \cap B_n) = \mathbb{P}(B_1) \ldots \mathbb{P}(B_n)$ для любых $B_i \in \mathfrak{B}_i, i=\overline{1,n}$. Тогда любая измеримая функция с конечным кодоменом $f : \Omega \rightarrow X$ может быть представлена в виде $f = \varphi \circ \mathfrak{r}$, где $\mathfrak{r} : \Omega \rightarrow [0,1]^n$ такова, что $\mathbb{P} \circ \mathfrak{r}^{-1}$ совпадает с мерой Лебега, а $\varphi : [0,1]^n \rightarrow X$ "--- борелевская.
\end{lemma}

\begin{proof}
	Рассмотрим обратную функцию $f^{-1} : X \rightarrow \mathfrak{B}$. В силу разложимости $\mathfrak{B}$ её можно представить как предел последовательности конъюнкций:
	\begin{equation*}
		f^{-1}(x) = \bigcup_{j=1}^\infty F_1^j(x) \cap \ldots \cap F_n^j(x), \; F_i^j : X \rightarrow \mathfrak{B}_i.
	\end{equation*}
	
	Обозначим семейства множеств $\mathfrak{F}_i = \{F_i^j(x) \mid j \in \mathbb{N}, x \in X\}$ и заметим, что $f$ измерима по $\sigma(\mathfrak{F}_1 \cup \ldots \cup \mathfrak{F}_n)$. По лемме \ref{lemma:card}, существуют цепи множеств $\mathfrak{T}_i \subset \mathfrak{B}_i$ такие, что $\sigma(\mathfrak{F}_i) = \sigma(\mathfrak{T}_i)$. Согласно принципу максимума Хаусдорфа каждая такая цепь вложена в максимальную цепь $\overline{\mathfrak{T}}_i \subset \mathfrak{B}_i$, порождающую безатомическую $\sigma$"~алгебру по лемме \ref{lemma:max}. Построим искомые функции: $\mathfrak{r} = (\operatorname{mim}\langle\overline{\mathfrak{T}}_1, \mathbb{P}\rangle, \ldots, \operatorname{mim}\langle\overline{\mathfrak{T}}_n, \mathbb{P}\rangle)$ и $\varphi = f \circ \mathfrak{r}^{-1}$. Необходимые свойства соблюдаются по построению.
\end{proof}

\begin{proof}[Доказательство теоремы \ref{the:struct}]
	Применим лемму \ref{lemma:consp} к произвольному пространству заговоров $\Phi_1$ структуры $\mathfrak{A} = \{A_1, \ldots, A_n\}$, используя в качестве компонент разложения $\mathfrak{B}_1, \ldots, \mathfrak{B}_n$ $\sigma$"~алгебры тайны соответствующих групп заговорщиков. Это даёт для любого разбиения $f_1 \models \Phi_1$ разложение $f_1 = \varphi \circ \mathfrak{r}$. В любом другом пространстве заговоров $\Phi_2$ той же структуры $\mathfrak{A}$ соответствующее разбиение $f_2 \models \Phi_2$ построим похожим образом: $f_2 = \varphi \circ \mathfrak{u}$. Здесь $\varphi$ то же самое, а $\mathfrak{u} = (\operatorname{mim}\langle\mathfrak{W}_1, \mathbb{P}_2\rangle, \ldots, \operatorname{mim}\langle\mathfrak{W}_n, \mathbb{P}_2\rangle)$, где $\mathfrak{W}_i$ - произвольные максимальные цепи, вложенные в $\sigma$"~алгебры соответствующих тайн пространства заговоров $\Phi_2$. Поскольку и $\mathbb{P}_1 \circ \mathfrak{r}^{-1}$, и $\mathbb{P}_2 \circ \mathfrak{u}^{-1}$ обе совпадают с мерой Лебега, то и $\mathbb{P}_1 \circ f_1^{-1} = \mathbb{P}_2 \circ f_2^{-1}$, а значит теорема доказана.
\end{proof}

\chapter{Примеры вставки листингов программного кода}

Для крупных листингов есть два способа. Первый красивый, но в нём могут быть
проблемы с поддержкой кириллицы (у вас может встречаться в~комментариях
и~печатаемых сообщениях), он представлен на листинге~\cref{lst:hwbeauty}.
\begin{ListingEnv}[!h]% настройки floating аналогичны окружению figure
    \captiondelim{ } % разделитель идентификатора с номером от наименования
    \caption{Программа ,,Hello, world`` на \protect\cpp}\label{lst:hwbeauty}
    % окружение учитывает пробелы и табуляции и применяет их в сответсвии с настройками
    \begin{lstlisting}[language={[ISO]C++}]
	#include <iostream>
	using namespace std;

	int main() //кириллица в комментариях при xelatex и lualatex имеет проблемы с пробелами
	{
		cout << "Hello, world" << endl; //latin letters in commentaries
		system("pause");
		return 0;
	}
    \end{lstlisting}
\end{ListingEnv}%
Второй не~такой красивый, но без ограничений (см.~листинг~\cref{lst:hwplain}).
\begin{ListingEnv}[!h]
    \captiondelim{ } % разделитель идентификатора с номером от наименования
    \caption{Программа ,,Hello, world`` без подсветки}\label{lst:hwplain}
    \begin{Verb}

        #include <iostream>
        using namespace std;

        int main() //кириллица в комментариях
        {
            cout << "Привет, мир" << endl;
        }
    \end{Verb}
\end{ListingEnv}

Можно использовать первый для вставки небольших фрагментов
внутри текста, а второй для вставки полного
кода в приложении, если таковое имеется.

Если нужно вставить совсем короткий пример кода (одна или две строки),
то~выделение  линейками и нумерация может смотреться чересчур громоздко.
В таких случаях можно использовать окружения \texttt{lstlisting} или
\texttt{Verb} без \texttt{ListingEnv}. Приведём такой пример
с указанием языка программирования, отличного от~заданного по умолчанию:
\begin{lstlisting}[language=Haskell]
fibs = 0 : 1 : zipWith (+) fibs (tail fibs)
\end{lstlisting}
Такое решение "--- со вставкой нумерованных листингов покрупнее
и~вставок без выделения для маленьких фрагментов "--- выбрано,
например, в~книге Эндрю Таненбаума и Тодда Остина по архитектуре
компьютера.

Наконец, для оформления идентификаторов внутри строк
(функция \lstinline{main} и~тому подобное) используется
\texttt{lstinline} или, самое простое, моноширинный текст
(\texttt{\textbackslash texttt}).

Пример~\cref{lst:internal3}, иллюстрирующий подключение переопределённого
языка. Может быть полезным, если подсветка кода работает криво. Без
дополнительного окружения, с подписью и ссылкой, реализованной встроенным
средством.
\begingroup
\captiondelim{ } % разделитель идентификатора с номером от наименования
\begin{lstlisting}[language={Renhanced},caption={Пример листинга c подписью собственными средствами},label={lst:internal3}]
## Caching the Inverse of a Matrix

## Matrix inversion is usually a costly computation and there may be some
## benefit to caching the inverse of a matrix rather than compute it repeatedly
## This is a pair of functions that cache the inverse of a matrix.

## makeCacheMatrix creates a special "matrix" object that can cache its inverse

makeCacheMatrix <- function(x = matrix()) {#кириллица в комментариях при xelatex и lualatex имеет проблемы с пробелами
    i <- NULL
    set <- function(y) {
        x <<- y
        i <<- NULL
    }
    get <- function() x
    setSolved <- function(solve) i <<- solve
    getSolved <- function() i
    list(set = set, get = get,
    setSolved = setSolved,
    getSolved = getSolved)

}


## cacheSolve computes the inverse of the special "matrix" returned by
## makeCacheMatrix above. If the inverse has already been calculated (and the
## matrix has not changed), then the cachesolve should retrieve the inverse from
## the cache.

cacheSolve <- function(x, ...) {
    ## Return a matrix that is the inverse of 'x'
    i <- x$getSolved()
    if(!is.null(i)) {
        message("getting cached data")
        return(i)
    }
    data <- x$get()
    i <- solve(data, ...)
    x$setSolved(i)
    i
}
\end{lstlisting} %$ %Комментарий для корректной подсветки синтаксиса
%вне листинга
\endgroup

Листинг~\cref{lst:external1} подгружается из внешнего файла. Приходится
загружать без окружения дополнительного. Иначе по страницам не переносится.
\begingroup
\captiondelim{ } % разделитель идентификатора с номером от наименования
\lstinputlisting[lastline=78,language={R},caption={Листинг из внешнего файла},label={lst:external1}]{listings/run_analysis.R}
\endgroup

\chapter{Очень длинное название второго приложения, в~котором продемонстрирована работа с~длинными таблицами}

\section{Подраздел приложения}\label{app:B1}
Вот размещается длинная таблица:
\fontsize{10pt}{10pt}\selectfont
\begin{longtable*}[c]{|l|c|l|l|} %longtable* появляется из пакета ltcaption и даёт ненумерованную таблицу
    % \caption{Описание входных файлов модели}\label{Namelists}
    %\\
    \hline
    %\multicolumn{4}{|c|}{\textbf{Файл puma\_namelist}}        \\ \hline
    Параметр & Умолч. & Тип & Описание               \\ \hline
    \endfirsthead   \hline
    \multicolumn{4}{|c|}{\small\slshape (продолжение)}        \\ \hline
    Параметр & Умолч. & Тип & Описание               \\ \hline
    \endhead        \hline
    % \multicolumn{4}{|c|}{\small\slshape (окончание)}        \\ \hline
    % Параметр & Умолч. & Тип & Описание               \\ \hline
    %                                             \endlasthead        \hline
    \multicolumn{4}{|r|}{\small\slshape продолжение следует}  \\ \hline
    \endfoot        \hline
    \endlastfoot
    \multicolumn{4}{|l|}{\&INP}        \\ \hline
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    \hline
    %& & & \(\:\) \\
    \multicolumn{4}{|l|}{\&SURFPAR}        \\ \hline
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    kick & 1 & int & 0: инициализация без шума (\(p_s = const\)) \\
    &   &     & 1: генерация белого шума                  \\
    &   &     & 2: генерация белого шума симметрично относительно \\
    & & & экватора    \\
    mars & 0 & int & 1: инициализация модели для планеты Марс     \\
    \hline
\end{longtable*}

\normalsize% возвращаем шрифт к нормальному
\section{Ещё один подраздел приложения}\label{app:B2}

Нужно больше подразделов приложения!
Конвынёры витюпырата но нам, тебиквюэ мэнтётюм позтюлант ед про. Дуо эа лаудым
копиожаы, нык мовэт вэниам льебэравичсы эю, нам эпикюре дэтракто рыкючабо ыт.

Пример длинной таблицы с записью продолжения по ГОСТ 2.105:

\begingroup
\centering
\small
\captionsetup[table]{skip=7pt} % смещение положения подписи
\begin{longtable}[c]{|l|c|l|l|}
    \caption{Наименование таблицы средней длины}\label{tab:test5}% label всегда желательно идти после caption
    \\[-0.45\onelineskip]
    \hline
    Параметр & Умолч. & Тип & Описание                                          \\ \hline
    \endfirsthead%
    \caption*{Продолжение таблицы~\thetable}                                    \\[-0.45\onelineskip]
    \hline
    Параметр & Умолч. & Тип & Описание                                          \\ \hline
    \endhead
    \hline
    \endfoot
    \hline
    \endlastfoot
    \multicolumn{4}{|l|}{\&INP}                                                 \\ \hline
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    \hline
    %& & & $\:$ \\
    \multicolumn{4}{|l|}{\&SURFPAR}                                             \\ \hline
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
    kick     & 1      & int & 0: инициализация без шума (\(p_s = const\))       \\
             &        &     & 1: генерация белого шума                          \\
             &        &     & 2: генерация белого шума симметрично относительно \\
             &        &     & экватора                                          \\
    mars     & 0      & int & 1: инициализация модели для планеты Марс          \\
\end{longtable}
\normalsize% возвращаем шрифт к нормальному
\endgroup
\section{Использование длинных таблиц с окружением \textit{longtabu}}\label{app:B2a}

В таблице \cref{tab:test-functions} более книжный вариант
длинной таблицы, используя окружение \verb!longtabu! и разнообразные
\verb!toprule! \verb!midrule! \verb!bottomrule! из~пакета
\verb!booktabs!. Чтобы визуально таблица смотрелась лучше, можно
использовать следующие параметры: в самом начале задаётся расстояние
между строчками с~помощью \verb!arraystretch!. Таблица задаётся на
всю ширину, \verb!longtabu! позволяет делить ширину колонок
пропорционально "--- тут три колонки в~пропорции 1.1:1:4 "--- для каждой
колонки первый параметр в~описании \verb!X[]!. Кроме того, в~таблице
убраны отступы слева и справа с~помощью \verb!@{}!
в~преамбуле таблицы. К~первому и~второму столбцу применяется
модификатор

\verb!>{\setlength{\baselineskip}{0.7\baselineskip}}!,

\noindent который уменьшает межстрочный интервал в для текста таблиц (иначе
заголовок второго столбца значительно шире, а двухстрочное имя
сливается с~окружающими). Для первой и второй колонки текст в ячейках
выравниваются по~центру как по~вертикали, так и по горизонтали "---
задаётся буквами \verb!m!~и~\verb!c!~в~описании столбца \verb!X[]!.

Так как формулы большие "--- используется окружение \verb!alignedat!,
чтобы отступ был одинаковый у всех формул "--- он сделан для всех, хотя
для большей части можно было и не использовать.  Чтобы формулы
занимали поменьше места в~каждом столбце формулы (где надо)
используется \verb!\textstyle! "--- он~делает дроби меньше, у~знаков
суммы и произведения "--- индексы сбоку. Иногда формула слишком большая,
сливается со следующей, поэтому после неё ставится небольшой
дополнительный отступ \verb!\vspace*{2ex}!. Для штрафных функций "---
размер фигурных скобок задан вручную \verb!\Big\{!, т.\:к. не~умеет
\verb!alignedat! работать с~\verb!\left! и~\verb!\right! через
несколько строк/колонок.

В примечании к таблице наоборот, окружение \verb!cases! даёт слишком
большие промежутки между вариантами, чтобы их уменьшить, в конце
каждой строчки окружения использовался отрицательный дополнительный
отступ \verb!\\[-0.5em]!.

\begingroup % Ограничиваем область видимости arraystretch
\renewcommand{\arraystretch}{1.6}%% Увеличение расстояния между рядами, для улучшения восприятия.
\begin{longtabu} to \textwidth
    {%
    @{}>{\setlength{\baselineskip}{0.7\baselineskip}}X[1.1mc]%
    >{\setlength{\baselineskip}{0.7\baselineskip}}X[1.1mc]%
    X[4]@{}%
    }
    \caption{Тестовые функции для оптимизации, \(D\) "---
        размерность. Для всех функций значение в точке глобального
        минимума равно нулю.\label{tab:test-functions}}\\% label всегда желательно идти после caption

    \toprule     %%% верхняя линейка
    Имя           &Стартовый диапазон параметров &Функция  \\
    \midrule %%% тонкий разделитель. Отделяет названия столбцов. Обязателен по ГОСТ 2.105 пункт 4.4.5
    \endfirsthead

    \multicolumn{3}{c}{\small\slshape (продолжение)}        \\
    \toprule     %%% верхняя линейка
    Имя           &Стартовый диапазон параметров &Функция  \\
    \midrule %%% тонкий разделитель. Отделяет названия столбцов. Обязателен по ГОСТ 2.105 пункт 4.4.5
    \endhead

    \multicolumn{3}{c}{\small\slshape (окончание)}        \\
    \toprule     %%% верхняя линейка
    Имя           &Стартовый диапазон параметров &Функция  \\
    \midrule %%% тонкий разделитель. Отделяет названия столбцов. Обязателен по ГОСТ 2.105 пункт 4.4.5
    \endlasthead

    \bottomrule %%% нижняя линейка
    \multicolumn{3}{r}{\small\slshape продолжение следует}  \\
    \endfoot
    \endlastfoot

    сфера         &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_1(x)=\sum_{i=1}^Dx_i^2
    \end{aligned}\) \\
    Schwefel 2.22 &\(\left[-10,\,10\right]^D\)     &
    \(\begin{aligned}
        \textstyle f_2(x)=\sum_{i=1}^D|x_i|+\prod_{i=1}^D|x_i|
    \end{aligned}\) \\
    Schwefel 1.2  &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_3(x)=\sum_{i=1}^D\left(\sum_{j=1}^ix_j\right)^2
    \end{aligned}\) \\
    Schwefel 2.21 &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_4(x)=\max_i\!\left\{\left|x_i\right|\right\}
    \end{aligned}\) \\
    Rosenbrock    &\(\left[-30,\,30\right]^D\)     &
    \(\begin{aligned}
        \textstyle f_5(x)=
        \sum_{i=1}^{D-1}
        \left[100\!\left(x_{i+1}-x_i^2\right)^2+(x_i-1)^2\right]
    \end{aligned}\) \\
    ступенчатая   &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_6(x)=\sum_{i=1}^D\big\lfloor x_i+0.5\big\rfloor^2
    \end{aligned}\) \\
    зашумлённая квартическая &\(\left[-1.28,\,1.28\right]^D\) &
    \(\begin{aligned}
        \textstyle f_7(x)=\sum_{i=1}^Dix_i^4+rand[0,1)
    \end{aligned}\)\vspace*{2ex}\\
    Schwefel 2.26 &\(\left[-500,\,500\right]^D\)   &
    \(\begin{aligned}
        f_8(x)= & \textstyle\sum_{i=1}^D-x_i\,\sin\sqrt{|x_i|}\,+ \\
                & \vphantom{\sum}+ D\cdot
        418.98288727243369
    \end{aligned}\)\\
    Rastrigin     &\(\left[-5.12,\,5.12\right]^D\) &
    \(\begin{aligned}
        \textstyle f_9(x)=\sum_{i=1}^D\left[x_i^2-10\,\cos(2\pi x_i)+10\right]
    \end{aligned}\)\vspace*{2ex}\\
    Ackley        &\(\left[-32,\,32\right]^D\)     &
    \(\begin{aligned}
        f_{10}(x)= & \textstyle -20\, \exp\!\left(
        -0.2\sqrt{\frac{1}{D}\sum_{i=1}^Dx_i^2} \right)- \\
                   & \textstyle - \exp\left(
            \frac{1}{D}\sum_{i=1}^D\cos(2\pi x_i)  \right)
        + 20 + e
    \end{aligned}\) \\
    Griewank      &\(\left[-600,\,600\right]^D\) &
    \(\begin{aligned}
        f_{11}(x)= & \textstyle \frac{1}{4000}\sum_{i=1}^{D}x_i^2 -
        \prod_{i=1}^D\cos\left(x_i/\sqrt{i}\right) +1
    \end{aligned}\) \vspace*{3ex} \\
    штрафная 1    &\(\left[-50,\,50\right]^D\)     &
    \(\begin{aligned}
        f_{12}(x)= & \textstyle \frac{\pi}{D}\Big\{ 10\,\sin^2(\pi y_1) +            \\
                   & +\textstyle \sum_{i=1}^{D-1}(y_i-1)^2
        \left[1+10\,\sin^2(\pi y_{i+1})\right] +                                     \\
                   & +(y_D-1)^2 \Big\} +\textstyle\sum_{i=1}^D u(x_i,\,10,\,100,\,4)
    \end{aligned}\) \vspace*{2ex} \\
    штрафная 2    &\(\left[-50,\,50\right]^D\)     &
    \(\begin{aligned}
        f_{13}(x)= & \textstyle 0.1 \Big\{\sin^2(3\pi x_1) +            \\
                   & +\textstyle \sum_{i=1}^{D-1}(x_i-1)^2
        \left[1+\sin^2(3 \pi x_{i+1})\right] +                          \\
                   & +(x_D-1)^2\left[1+\sin^2(2\pi x_D)\right] \Big\} + \\
                   & +\textstyle\sum_{i=1}^D u(x_i,\,5,\,100,\,4)
    \end{aligned}\)\\
    сфера         &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_1(x)=\sum_{i=1}^Dx_i^2
    \end{aligned}\) \\
    Schwefel 2.22 &\(\left[-10,\,10\right]^D\)     &
    \(\begin{aligned}
        \textstyle f_2(x)=\sum_{i=1}^D|x_i|+\prod_{i=1}^D|x_i|
    \end{aligned}\) \\
    Schwefel 1.2  &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_3(x)=\sum_{i=1}^D\left(\sum_{j=1}^ix_j\right)^2
    \end{aligned}\) \\
    Schwefel 2.21 &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_4(x)=\max_i\!\left\{\left|x_i\right|\right\}
    \end{aligned}\) \\
    Rosenbrock    &\(\left[-30,\,30\right]^D\)     &
    \(\begin{aligned}
        \textstyle f_5(x)=
        \sum_{i=1}^{D-1}
        \left[100\!\left(x_{i+1}-x_i^2\right)^2+(x_i-1)^2\right]
    \end{aligned}\) \\
    ступенчатая   &\(\left[-100,\,100\right]^D\)   &
    \(\begin{aligned}
        \textstyle f_6(x)=\sum_{i=1}^D\big\lfloor x_i+0.5\big\rfloor^2
    \end{aligned}\) \\
    зашумлённая квартическая &\(\left[-1.28,\,1.28\right]^D\) &
    \(\begin{aligned}
        \textstyle f_7(x)=\sum_{i=1}^Dix_i^4+rand[0,1)
    \end{aligned}\)\vspace*{2ex}\\
    Schwefel 2.26 &\(\left[-500,\,500\right]^D\)   &
    \(\begin{aligned}
        f_8(x)= & \textstyle\sum_{i=1}^D-x_i\,\sin\sqrt{|x_i|}\,+ \\
                & \vphantom{\sum}+ D\cdot
        418.98288727243369
    \end{aligned}\)\\
    Rastrigin     &\(\left[-5.12,\,5.12\right]^D\) &
    \(\begin{aligned}
        \textstyle f_9(x)=\sum_{i=1}^D\left[x_i^2-10\,\cos(2\pi x_i)+10\right]
    \end{aligned}\)\vspace*{2ex}\\
    Ackley        &\(\left[-32,\,32\right]^D\)     &
    \(\begin{aligned}
        f_{10}(x)= & \textstyle -20\, \exp\!\left(
        -0.2\sqrt{\frac{1}{D}\sum_{i=1}^Dx_i^2} \right)- \\
                   & \textstyle - \exp\left(
            \frac{1}{D}\sum_{i=1}^D\cos(2\pi x_i)  \right)
        + 20 + e
    \end{aligned}\) \\
    Griewank      &\(\left[-600,\,600\right]^D\) &
    \(\begin{aligned}
        f_{11}(x)= & \textstyle \frac{1}{4000}\sum_{i=1}^{D}x_i^2 -
        \prod_{i=1}^D\cos\left(x_i/\sqrt{i}\right) +1
    \end{aligned}\) \vspace*{3ex} \\
    штрафная 1    &\(\left[-50,\,50\right]^D\)     &
    \(\begin{aligned}
        f_{12}(x)= & \textstyle \frac{\pi}{D}\Big\{ 10\,\sin^2(\pi y_1) +            \\
                   & +\textstyle \sum_{i=1}^{D-1}(y_i-1)^2
        \left[1+10\,\sin^2(\pi y_{i+1})\right] +                                     \\
                   & +(y_D-1)^2 \Big\} +\textstyle\sum_{i=1}^D u(x_i,\,10,\,100,\,4)
    \end{aligned}\) \vspace*{2ex} \\
    штрафная 2    &\(\left[-50,\,50\right]^D\)     &
    \(\begin{aligned}
        f_{13}(x)= & \textstyle 0.1 \Big\{\sin^2(3\pi x_1) +            \\
                   & +\textstyle \sum_{i=1}^{D-1}(x_i-1)^2
        \left[1+\sin^2(3 \pi x_{i+1})\right] +                          \\
                   & +(x_D-1)^2\left[1+\sin^2(2\pi x_D)\right] \Big\} + \\
                   & +\textstyle\sum_{i=1}^D u(x_i,\,5,\,100,\,4)
    \end{aligned}\)\\
    \midrule%%% тонкий разделитель
    \multicolumn{3}{@{}p{\textwidth}}{%
    \vspace*{-3.5ex}% этим подтягиваем повыше
    \hspace*{2.5em}% абзацный отступ - требование ГОСТ 2.105
    Примечание "---  Для функций \(f_{12}\) и \(f_{13}\)
    используется \(y_i = 1 + \frac{1}{4}(x_i+1)\)
    и~$u(x_i,\,a,\,k,\,m)=
        \begin{cases*}
            k(x_i-a)^m,  & \( x_i >a \)            \\[-0.5em]
            0,           & \( -a\leq x_i \leq a \) \\[-0.5em]
            k(-x_i-a)^m, & \( x_i <-a \)
        \end{cases*}
    $
    }\\
    \bottomrule %%% нижняя линейка
\end{longtabu}
\endgroup

\section{Форматирование внутри таблиц}\label{app:B3}

В таблице \cref{tab:other-row} пример с чересстрочным
форматированием. В~файле \verb+userstyles.tex+  задаётся счётчик
\verb+\newcounter{rowcnt}+ который увеличивается на~1 после каждой
строчки (как указано в преамбуле таблицы). Кроме того, задаётся
условный макрос \verb+\altshape+ который выдаёт одно
из~двух типов форматирования в~зависимости от чётности счётчика.

В таблице \cref{tab:other-row} каждая чётная строчка "--- синяя,
нечётная "--- с наклоном и~слегка поднята вверх. Визуально это приводит
к тому, что среднее значение и~среднеквадратичное изменение
группируются и хорошо выделяются взглядом в~таблице. Сохраняется
возможность отдельные значения в таблице выделить цветом или
шрифтом. К первому и второму столбцу форматирование не применяется
по~сути таблицы, к шестому общее форматирование не~применяется для
наглядности.

Так как заголовок таблицы тоже считается за строчку, то перед ним (для
первого, промежуточного и финального варианта) счётчик обнуляется,
а~в~\verb+\altshape+ для нулевого значения счётчика форматирования
не~применяется.

\begingroup % Ограничиваем область видимости arraystretch
\renewcommand\altshape{
    \ifnumequal{\value{rowcnt}}{0}{
        % Стиль для заголовка таблицы
    }{
        \ifnumodd{\value{rowcnt}}
        {
            \color{blue} % Cтиль для нечётных строк
        }{
            \vspace*{-0.7ex}\itshape} % Стиль для чётных строк
    }
}
\newcolumntype{A}{>{\centering\begingroup\altshape}X[1mc]<{\endgroup}}
\needspace{2\baselineskip}
\renewcommand{\arraystretch}{0.9}%% Уменьшаем  расстояние между
%% рядами, чтобы таблица не так много
%% места занимала в дисере.
\begin{longtabu} to \textwidth {@{}X[0.27ml]@{}X[0.7mc]@{}A@{}A@{}A@{}X[0.98mc]@{}>{\setlength{\baselineskip}{0.7\baselineskip}}A@{}A<{\stepcounter{rowcnt}}@{}}
    % \begin{longtabu} to \textwidth {@{}X[0.2ml]X[1mc]X[1mc]X[1mc]X[1mc]X[1mc]>{\setlength{\baselineskip}{0.7\baselineskip}}X[1mc]X[1mc]@{}}
    \caption{Длинная таблица с примером чересстрочного форматирования\label{tab:other-row}}\vspace*{1ex}\\% label всегда желательно идти после caption
    % \vspace*{1ex}     \\

    \toprule %%% верхняя линейка
    \setcounter{rowcnt}{0} &Итера\-ции & JADE\texttt{++} & JADE & jDE & SaDE
    & DE/rand /1/bin & PSO \\
    \midrule %%% тонкий разделитель. Отделяет названия столбцов. Обязателен по ГОСТ 2.105 пункт 4.4.5
    \endfirsthead

    \multicolumn{8}{c}{\small\slshape (продолжение)} \\
    \toprule %%% верхняя линейка
    \setcounter{rowcnt}{0} &Итера\-ции & JADE\texttt{++} & JADE & jDE & SaDE
    & DE/rand /1/bin & PSO \\
    \midrule %%% тонкий разделитель. Отделяет названия столбцов. Обязателен по ГОСТ 2.105 пункт 4.4.5
    \endhead

    \multicolumn{8}{c}{\small\slshape (окончание)} \\
    \toprule %%% верхняя линейка
    \setcounter{rowcnt}{0} &Итера\-ции & JADE\texttt{++} & JADE & jDE & SaDE
    & DE/rand /1/bin & PSO \\
    \midrule %%% тонкий разделитель. Отделяет названия столбцов. Обязателен по ГОСТ 2.105 пункт 4.4.5
    \endlasthead

    \bottomrule %%% нижняя линейка
    \multicolumn{8}{r}{\small\slshape продолжение следует}     \\
    \endfoot
    \endlastfoot

    f1  & 1500 & \textbf{1.8E-60}   & 1.3E-54   & 2.5E-28   & 4.5E-20   & 9.8E-14   & 9.6E-42   \\\nopagebreak
    &      & (8.4E-60) & (9.2E-54) & {\color{red}(3.5E-28)} & (6.9E-20) & (8.4E-14) & (2.7E-41) \\
    f2  & 2000 & 1.8E-25   & 3.9E-22   & 1.5E-23   & 1.9E-14   & 1.6E-09   & 9.3E-21   \\\nopagebreak
    &      & (8.8E-25) & (2.7E-21) & (1.0E-23) & (1.1E-14) & (1.1E-09) & (6.3E-20) \\
    f3  & 5000 & 5.7E-61   & 6.0E-87   & 5.2E-14   & {\color{green}9.0E-37}   & 6.6E-11   & 2.5E-19   \\\nopagebreak
    &      & (2.7E-60) & (1.9E-86) & (1.1E-13) & (5.4E-36) & (8.8E-11) & (3.9E-19) \\
    f4  & 5000 & 8.2E-24   & 4.3E-66   & 1.4E-15   & 7.4E-11   & 4.2E-01   & 4.4E-14   \\\nopagebreak
    &      & (4.0E-23) & (1.2E-65) & (1.0E-15) & (1.8E-10) & (1.1E+00) & (9.3E-14) \\
    f5  & 3000 & 8.0E-02   & 3.2E-01   & 1.3E+01   & 2.1E+01   & 2.1E+00   & 2.5E+01   \\\nopagebreak
    &      & (5.6E-01) & (1.1E+00) & (1.4E+01) & (7.8E+00) & (1.5E+00) & (3.2E+01) \\
    f6  & 100  & 2.9E+00   & 5.6E+00   & 1.0E+03   & 9.3E+02   & 4.7E+03   & 4.5E+01   \\\nopagebreak
    &      & (1.2E+00) & (1.6E+00) & (2.2E+02) & (1.8E+02) & (1.1E+03) & (2.4E+01) \\
    f7  & 3000 & 6.4E-04   & 6.8E-04   & 3.3E-03   & 4.8E-03   & 4.7E-03   & 2.5E-03   \\\nopagebreak
    &      & (2.5E-04) & (2.5E-04) & (8.5E-04) & (1.2E-03) & (1.2E-03) & (1.4E-03) \\
    f8  & 1000 & 3.3E-05   & 7.1E+00   & 7.9E-11   & 4.7E+00   & 5.9E+03   & 2.4E+03   \\\nopagebreak
    &      & (2.3E-05) & (2.8E+01) & (1.3E-10) & (3.3E+01) & (1.1E+03) & (6.7E+02) \\
    f9  & 1000 & 1.0E-04   & 1.4E-04   & 1.5E-04   & 1.2E-03   & 1.8E+02   & 5.2E+01   \\\nopagebreak
    &      & (6.0E-05) & (6.5E-05) & (2.0E-04) & (6.5E-04) & (1.3E+01) & (1.6E+01) \\
    f10 & 500  & 8.2E-10   & 3.0E-09   & 3.5E-04   & 2.7E-03   & 1.1E-01   & 4.6E-01   \\\nopagebreak
    &      & (6.9E-10) & (2.2E-09) & (1.0E-04) & (5.1E-04) & (3.9E-02) & (6.6E-01) \\
    f11 & 500  & 9.9E-08   & 2.0E-04   & 1.9E-05   & 7.8E-04  & 2.0E-01   & 1.3E-02   \\\nopagebreak
    &      & (6.0E-07) & (1.4E-03) & (5.8E-05) & (1.2E-03)  & (1.1E-01) & (1.7E-02) \\
    f12 & 500  & 4.6E-17   & 3.8E-16   & 1.6E-07   & 1.9E-05   & 1.2E-02   & 1.9E-01   \\\nopagebreak
    &      & (1.9E-16) & (8.3E-16) & (1.5E-07) & (9.2E-06) & (1.0E-02) & (3.9E-01) \\
    f13 & 500  & 2.0E-16   & 1.2E-15   & 1.5E-06   & 6.1E-05   & 7.5E-02   & 2.9E-03   \\\nopagebreak
    &      & (6.5E-16) & (2.8E-15) & (9.8E-07) & (2.0E-05) & (3.8E-02) & (4.8E-03) \\
    f1  & 1500 & \textbf{1.8E-60}   & 1.3E-54   & 2.5E-28   & 4.5E-20   & 9.8E-14   & 9.6E-42   \\\nopagebreak
    &      & (8.4E-60) & (9.2E-54) & {\color{red}(3.5E-28)} & (6.9E-20) & (8.4E-14) & (2.7E-41) \\
    f2  & 2000 & 1.8E-25   & 3.9E-22   & 1.5E-23   & 1.9E-14   & 1.6E-09   & 9.3E-21   \\\nopagebreak
    &      & (8.8E-25) & (2.7E-21) & (1.0E-23) & (1.1E-14) & (1.1E-09) & (6.3E-20) \\
    f3  & 5000 & 5.7E-61   & 6.0E-87   & 5.2E-14   & 9.0E-37   & 6.6E-11   & 2.5E-19   \\\nopagebreak
    &      & (2.7E-60) & (1.9E-86) & (1.1E-13) & (5.4E-36) & (8.8E-11) & (3.9E-19) \\
    f4  & 5000 & 8.2E-24   & 4.3E-66   & 1.4E-15   & 7.4E-11   & 4.2E-01   & 4.4E-14   \\\nopagebreak
    &      & (4.0E-23) & (1.2E-65) & (1.0E-15) & (1.8E-10) & (1.1E+00) & (9.3E-14) \\
    f5  & 3000 & 8.0E-02   & 3.2E-01   & 1.3E+01   & 2.1E+01   & 2.1E+00   & 2.5E+01   \\\nopagebreak
    &      & (5.6E-01) & (1.1E+00) & (1.4E+01) & (7.8E+00) & (1.5E+00) & (3.2E+01) \\
    f6  & 100  & 2.9E+00   & 5.6E+00   & 1.0E+03   & 9.3E+02   & 4.7E+03   & 4.5E+01   \\\nopagebreak
    &      & (1.2E+00) & (1.6E+00) & (2.2E+02) & (1.8E+02) & (1.1E+03) & (2.4E+01) \\
    f7  & 3000 & 6.4E-04   & 6.8E-04   & 3.3E-03   & 4.8E-03   & 4.7E-03   & 2.5E-03   \\\nopagebreak
    &      & (2.5E-04) & (2.5E-04) & (8.5E-04) & (1.2E-03) & (1.2E-03) & (1.4E-03) \\
    f8  & 1000 & 3.3E-05   & 7.1E+00   & 7.9E-11   & 4.7E+00   & 5.9E+03   & 2.4E+03   \\\nopagebreak
    &      & (2.3E-05) & (2.8E+01) & (1.3E-10) & (3.3E+01) & (1.1E+03) & (6.7E+02) \\
    f9  & 1000 & 1.0E-04   & 1.4E-04   & 1.5E-04   & 1.2E-03   & 1.8E+02   & 5.2E+01   \\\nopagebreak
    &      & (6.0E-05) & (6.5E-05) & (2.0E-04) & (6.5E-04) & (1.3E+01) & (1.6E+01) \\
    f10 & 500  & 8.2E-10   & 3.0E-09   & 3.5E-04   & 2.7E-03   & 1.1E-01   & 4.6E-01   \\\nopagebreak
    &      & (6.9E-10) & (2.2E-09) & (1.0E-04) & (5.1E-04) & (3.9E-02) & (6.6E-01) \\
    f11 & 500  & 9.9E-08   & 2.0E-04   & 1.9E-05   & 7.8E-04  & 2.0E-01   & 1.3E-02   \\\nopagebreak
    &      & (6.0E-07) & (1.4E-03) & (5.8E-05) & (1.2E-03)  & (1.1E-01) & (1.7E-02) \\
    f12 & 500  & 4.6E-17   & 3.8E-16   & 1.6E-07   & 1.9E-05   & 1.2E-02   & 1.9E-01   \\\nopagebreak
    &      & (1.9E-16) & (8.3E-16) & (1.5E-07) & (9.2E-06) & (1.0E-02) & (3.9E-01) \\
    f13 & 500  & 2.0E-16   & 1.2E-15   & 1.5E-06   & 6.1E-05   & 7.5E-02   & 2.9E-03   \\\nopagebreak
    &      & (6.5E-16) & (2.8E-15) & (9.8E-07) & (2.0E-05) & (3.8E-02) & (4.8E-03) \\
    \bottomrule %%% нижняя линейка
\end{longtabu} \endgroup

\section{Стандартные префиксы ссылок}\label{app:B4}

Общепринятым является следующий формат ссылок: \texttt{<prefix>:<label>}.
Например, \verb+\label{fig:knuth}+; \verb+\ref{tab:test1}+; \verb+label={lst:external1}+.
В~таблице \cref{tab:tab_pref} приведены стандартные префиксы для различных
типов ссылок.

\begin{table}[htbp]
    \captionsetup{justification=centering}
    \centering{
        \caption{\label{tab:tab_pref}Стандартные префиксы ссылок}
        \begin{tabular}{ll}
            \toprule
            \textbf{Префикс} & \textbf{Описание} \\
            \midrule
            ch:              & Глава             \\
            sec:             & Секция            \\
            subsec:          & Подсекция         \\
            fig:             & Рисунок           \\
            tab:             & Таблица           \\
            eq:              & Уравнение         \\
            lst:             & Листинг программы \\
            itm:             & Элемент списка    \\
            alg:             & Алгоритм          \\
            app:             & Секция приложения \\
            \bottomrule
        \end{tabular}
    }
\end{table}


Для упорядочивания ссылок можно использовать разделительные символы.
Например, \verb+\label{fig:scheemes/my_scheeme}+ или \\ \verb+\label{lst:dts/linked_list}+.

\section{Очередной подраздел приложения}\label{app:B5}

Нужно больше подразделов приложения!

\section{И ещё один подраздел приложения}\label{app:B6}

Нужно больше подразделов приложения!

\clearpage
\refstepcounter{chapter}
\addcontentsline{toc}{appendix}{\protect\chapternumberline{\thechapter}Чертёж детали}

\includepdf[pages=-]{Dissertation/images/drawing.pdf}
