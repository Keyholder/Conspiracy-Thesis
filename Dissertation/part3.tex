\chapter{Вычислительная сложность стратегий в повторяющихся играх с дисконтированием}\label{ch:ch3}

\section{Повторяющийся трёхсторонний чёт-нечет}\label{sec:ch3/sect1}

Чувствительность к дополнительной информационной асимметрии интересна не только тем, как на исходы проявляющих её игр влияет собственно информационная асимметрия. Далее будет показано, что в тех случаях, когда этим свойством обладают отдельные розыгрыши повторяющихся игр, необычные эффекты могут возникать даже при отсутствии приватных механизмов корреляции, в рамках классического смешанного расширения и совершенных подыгровых равновесий. Разберём этот феномен на примере игры в <<трёхсторонний чёт-нечет>>, описанной в разделе \ref{sec:ch1/sec4}. Сперва проанализируем повторяющуюся версию данного конфликта с классической точки зрения, применяя <<народную>> теорему.

\begin{table} [htbp]
	\centering
	\begin{threeparttable}
		\caption{Трёхсторонний чёт"~нечет}
		\label{tab:coin3b}
		\begin{tabular}{ |c|c|c|c|c| }
			\cline{1-2} \cline{4-5}
			\rule[-7pt]{0pt}{2em}$4, 4, 4$ &
			\rule[-7pt]{0pt}{2em}$6, 0, 6$ & \qquad\qquad\qquad &
			\rule[-7pt]{0pt}{2em}$6, 6, 0$ &
			\rule[-7pt]{0pt}{2em}$0, 6, 6$ \\
			\cline{1-2} \cline{4-5}
			\rule[-7pt]{0pt}{2em}$0, 6, 6$ &
			\rule[-7pt]{0pt}{2em}$6, 6, 0$ & \qquad\qquad\qquad &
			\rule[-7pt]{0pt}{2em}$6, 0, 6$ &
			\rule[-7pt]{0pt}{2em}$4, 4, 4$ \\
			\cline{1-2} \cline{4-5}
		\end{tabular}
	\end{threeparttable}
\end{table}

В соответствии с формулировкой теоремы для получения множества равновесий по Нэшу в повторяющейся игре необходимо построить минимаксные стратегии наказания в отдельной её итерации. Однако трёхсторонний чёт-нечет любопытен тем, что в смешанных стратегиях никакая попытка двух игроков минимизировать выигрыш третьего не может опустить его результат ниже того, что он получает в точках равновесия по Нэшу (т.е. 4). Действительно, пусть первый игрок избрал стратегию $(p, 1 - p)$, а второй "--- $(q, 1 - q)$. Тогда выигрыши третьего при выборе чистых стратегий составляют:
\begin{align*}
	u^3(p, q, 1) &= 6 (p + q) - 8 p q; \\
	u^3(p, q, 0) &= 2 (p + q) - 8 p q + 4.
\end{align*}

Несложно заметить, что
\begin{align*}
	p \ge &q \ge \frac{1}{2} \Rightarrow u^3(p, q, 1) \ge 4; \\
	p \ge 1 - &q \ge \frac{1}{2} \Rightarrow u^3(p, q, 1) \ge 4; \\
	q \ge &p \ge \frac{1}{2} \Rightarrow u^3(p, q, 1) \ge 4; \\
	q \ge 1 - &p \ge \frac{1}{2} \Rightarrow u^3(p, q, 1) \ge 4; \\
	p \le &q \le \frac{1}{2} \Rightarrow u^3(p, q, 0) \ge 4; \\
	p \le 1 - &q \le \frac{1}{2} \Rightarrow u^3(p, q, 0) \ge 4; \\
	q \le &p \le \frac{1}{2} \Rightarrow u^3(p, q, 0) \ge 4; \\
	q \le 1 - &p \le \frac{1}{2} \Rightarrow u^3(p, q, 0) \ge 4. \\
\end{align*}

Эти варианты исчерпывают всё пространство возможных ситуаций, так что никакое сочетание смешанных стратегий двух игроков не может быть эффективным наказанием для третьего. В классическом случае это означало бы, что повторяющаяся игра имеет в качестве решения то же самое множество равновесий по Нэшу, что и отдельный розыгрыш. Однако, вывод этот можно интересным образом уточнить, перейдя к модели, учитывающей стоимость вычислений, необходимых для выбора стратегии в очередной итерации.

\section{Модель повторяющихся игр с учётом стоимости вычислений}\label{sec:ch3/sect2}

Построение искомой модели подразумевает конкретизацию способа, при помощи которого рациональные агенты вычисляют стратегию поведения. Для этой цели подойдёт любой формализм, позволяющий алгоритмически полные вычисления с вероятностным ветвлением. Кроме того, необходимы возможность сохранения произвольного внутреннего состояния в памяти для использования на последующих итерациях и, очевидно, метод численной оценки сложности произведённого на каждой итерации вычисления. Общая схема взаимодействия агентов и среды может выглядеть так:
\begin{figure}[ht]
	\centerfloat{
		\ifdefmacro{\tikzsetnextfilename}{\tikzsetnextfilename{tikz_repeat_compiled}}{}
		\begin{tikzpicture}[scale=2]
			\node[circle,draw] (game1) at (1, 0) {$\Gamma$};
			\node[circle,draw] (game2) at (3, 0) {$\Gamma$};
			\node[circle,draw] (game3) at (5, 0) {$\Gamma$};
			\node[rectangle,draw] (calc11) at (0,  1) {$M^1$};
			\node[rectangle,draw] (calc12) at (2,  1) {$M^1$};
			\node[rectangle,draw] (calc13) at (4,  1) {$M^1$};
			\node[] (calc1i) at (6, 1) {$\cdots$};
			\node[rectangle,draw] (calc21) at (0, -1) {$M^2$};
			\node[rectangle,draw] (calc22) at (2, -1) {$M^2$};
			\node[rectangle,draw] (calc23) at (4, -1) {$M^2$};
			\node[] (calc2i) at (6, -1) {$\cdots$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (calc11) -- (game1) node[midway,sloped,below] {$s^1_1$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (calc21) -- (game1) node[midway,sloped,above] {$s^2_1$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (calc12) -- (game2) node[midway,sloped,below] {$s^1_2$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (calc22) -- (game2) node[midway,sloped,above] {$s^2_2$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (calc13) -- (game3) node[midway,sloped,below] {$s^1_3$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (calc23) -- (game3) node[midway,sloped,above] {$s^2_3$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (game1) -- (calc12) node[midway,sloped,below] {$s_1$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (game1) -- (calc22) node[midway,sloped,above] {$s_1$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (game2) -- (calc13) node[midway,sloped,below] {$s_2$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (game2) -- (calc23) node[midway,sloped,above] {$s_2$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (game3) -- (calc1i) node[midway,sloped,below] {$s_3$};
			\draw [->,thick,decorate,decoration={snake,post length=1mm}] (game3) -- (calc2i) node[midway,sloped,above] {$s_3$};
			\node[diamond,draw] (sum1) at (-1, 2) {$\Sigma^1$};
			\node[] (sum10) at (0,  2) [label=$-\delta \mathfrak{w}^1_1$] {};
			\node[] (sum11) at (1,  2) [label=$+\delta u^1(s_1)$] {};
			\node[] (sum12) at (2,  2) [label=$-\delta^2 \mathfrak{w}^1_2$] {};
			\node[] (sum13) at (3,  2) [label=$+\delta^2 u^1(s_2)$] {};
			\node[] (sum14) at (4,  2) [label=$-\delta^3 \mathfrak{w}^1_3$] {};
			\node[] (sum15) at (5,  2) [label=$+\delta^3 u^1(s_3)$] {};
			\node[] (sum1i) at (6,  2) {$\cdots$};
			\node[diamond,draw] (sum2) at (-1, -2) {$\Sigma^2$};
			\node[] (sum20) at (0, -2) [label=below:$-\delta \mathfrak{w}^2_1$] {};
			\node[] (sum21) at (1, -2) [label=below:$+\delta u^2(s_1)$] {};
			\node[] (sum22) at (2, -2) [label=below:$-\delta^2 \mathfrak{w}^2_2$] {};
			\node[] (sum23) at (3, -2) [label=below:$+\delta^2 u^2(s_2)$] {};
			\node[] (sum24) at (4, -2) [label=below:$-\delta^3 \mathfrak{w}^2_3$] {};
			\node[] (sum25) at (5, -2) [label=below:$+\delta^3 u^2(s_3)$] {};
			\node[] (sum2i) at (6, -2) {$\cdots$};
			\draw [->,thick] (sum1i) -- (sum1);
			\draw [->,thick] (calc11) -- (sum10);
			\draw [->,thick] (game1) -- (sum11);
			\draw [->,thick] (calc12) -- (sum12);
			\draw [->,thick] (game2) -- (sum13);
			\draw [->,thick] (calc13) -- (sum14);
			\draw [->,thick] (game3) -- (sum15);
			\draw [->,thick] (sum2i) -- (sum2);
			\draw [->,thick] (calc21) -- (sum20);
			\draw [->,thick] (game1) -- (sum21);
			\draw [->,thick] (calc22) -- (sum22);
			\draw [->,thick] (game2) -- (sum23);
			\draw [->,thick] (calc23) -- (sum24);
			\draw [->,thick] (game3) -- (sum25);
			\fill [white] (1,  1) circle (2pt);
			\fill [white] (3,  1) circle (2pt);
			\fill [white] (5,  1) circle (2pt);
			\fill [white] (1, -1) circle (2pt);
			\fill [white] (3, -1) circle (2pt);
			\fill [white] (5, -1) circle (2pt);
			\draw [->,double,thick] (-1,  1) -- (calc11) node[midway,above] {$\psi^1_0$};
			\draw [->,double,thick] (calc11) -- (calc12) node[near end,above] {$\psi^1_1$};
			\draw [->,double,thick] (calc12) -- (calc13) node[near end,above] {$\psi^1_2$};
			\draw [->,double,thick] (calc13) -- (calc1i) node[near end,above] {$\psi^1_3$};
			\draw [->,double,thick] (-1, -1) -- (calc21) node[midway,below] {$\psi^2_0$};
			\draw [->,double,thick] (calc21) -- (calc22) node[near end,below] {$\psi^2_1$};
			\draw [->,double,thick] (calc22) -- (calc23) node[near end,below] {$\psi^2_2$};
			\draw [->,double,thick] (calc23) -- (calc2i) node[near end,below] {$\psi^2_3$};
		\end{tikzpicture}
	}
	\legend{}
	\caption[Повторяющаяся игра с учётом стоимости вычислений]{Повторяющаяся игра с учётом стоимости вычислений}\label{fig:repeat}
\end{figure}

Диаграмма на рисунке \ref{fig:repeat} схематично изображает моделируемый процесс для двух игроков (естественным образом обобщающийся на любое конечное их число). В узлах, помеченных буквой $\Gamma$, происходят последовательные розыгрыши произвольной игры $\Gamma = \langle A, S^a, u^a(s), a \in A \rangle$. В $i$-м розыгрыше игрок $a$ выбирает свою стратегию $s^a_i$, применяя вероятностный алгоритм $M^a$ к результату предыдущей итерации $(\psi^a_{i-1}, s_{i-1})$, включающему сохранённое состояние памяти самого алгоритма и набор сыгранных на итерации $i-1$ стратегий. Узлы $\Sigma^a$ изображают последовательное суммирование разностей выигрыша $u^a(s_i)$ и затрат на произведённое вычисление $\mathfrak{w}^a_i$, с учётом экспоненциально уменьшающегося коэффициента дисконтирования $\delta^i$. При такой схеме взаимодействий имеет смысл рассматривать только универсальные алгоритмы $M^a$, что позволяет закодировать любой набор вычислимых стратегий повторяющейся игры в начальных состояниях памяти $\psi^a_0$.

\section{Криптографические стратегии наказания}

Хотя трёхсторонний чёт-нечет не даёт возможности двум игрокам наказывать третьего, используя только лишь смешанные стратегии, ещё в первой главе мы установили, что, например, наличие механизма корреляции, которым игроки 1 и 2 могут пользоваться втайне от игрока 3, добавляет решения с выплатами до $(5, 5, 2)$. Таким образом, если бы мы рассматривали повторяющуюся игру в пространстве заговоров структуры $\{\{1, 2\}, \{2, 3\}, \{3, 1\}\}$, то в соответствии с <<народной>> теоремой её множество совершенных подыгровых равновесий включало бы все стратегические наборы с выплатами, обеспечивающие каждому игроку выигрыш не менее $2$. Однако, даже в том случае, когда игроки не могут использовать тайные механизмы корреляции, учёт стоимости вычислений позволяет в повторяющихся играх применять стратегии наказания, опирающиеся на достижения современной криптографии.

%Тогда стратегию игрока $a$ можно представить в следующем виде:
%\begin{equation*}
%	\overbrace{s}^a = \langle \psi^a \in \Psi^a, f^a : \Psi^a \rightarrow \mathcal{M}(X^a), g^a :  / \rangle
%\end{equation*}

\clearpage
